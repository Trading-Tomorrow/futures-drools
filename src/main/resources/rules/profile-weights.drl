package rules
dialect "java"

import org.futures.model.Investor;
import org.futures.model.ProfileWeights;

// -------------------------------
//  Profile â†’ Weights BUY/SELL/HOLD
// -------------------------------
declare ProfileWeights
  buyW  : double
  sellW : double
  holdW : double
end

// Conservative profile
rule "PROFILE WEIGHTS - Conservative"
agenda-group "profile-weights"
when
  Investor( profile.toLowerCase matches "(conservative)" )
then
  insertLogical(new ProfileWeights(0.9, 1.1, 1.0));
  System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
  System.out.println("ğŸ‘¤ Profile detected: CONSERVATIVE");
  System.out.println("âš–ï¸  Applied weights â†’ BUY: 0.9 | SELL: 1.1 | HOLD: 1.0");
  System.out.println("ğŸ“‰ More cautious approach: favors SELL signals slightly.");
  System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
end

// Balanced profile
rule "PROFILE WEIGHTS - Balanced"
agenda-group "profile-weights"
when
  Investor( profile.toLowerCase matches "(balanced)" )
then
  insertLogical(new ProfileWeights(1.0, 1.0, 1.0));
  System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
  System.out.println("ğŸ‘¤ Profile detected: BALANCED");
  System.out.println("âš–ï¸  Applied weights â†’ BUY: 1.0 | SELL: 1.0 | HOLD: 1.0");
  System.out.println("ğŸ“Š Neutral approach: equal weight to all decisions.");
  System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
end

// Aggressive profile
rule "PROFILE WEIGHTS - Aggressive"
agenda-group "profile-weights"
when
  Investor( profile.toLowerCase matches "(aggressive)" )
then
  insertLogical(new ProfileWeights(1.1, 0.9, 1.0));
  System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
  System.out.println("ğŸ‘¤ Profile detected: AGGRESSIVE");
  System.out.println("âš–ï¸  Applied weights â†’ BUY: 1.1 | SELL: 0.9 | HOLD: 1.0");
  System.out.println("ğŸ“ˆ Risk-taking approach: gives more influence to BUY signals.");
  System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
end

// Default (no profile matched)
rule "PROFILE WEIGHTS - Default"
agenda-group "profile-weights"
when
  not ProfileWeights()
then
  insertLogical(new ProfileWeights(1.0, 1.0, 1.0));
  System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
  System.out.println("ğŸ‘¤ Profile not recognized â†’ DEFAULT weights applied");
  System.out.println("âš–ï¸  BUY: 1.0 | SELL: 1.0 | HOLD: 1.0");
  System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
end
