package rules

dialect "java"

import org.futures.model.Production;
import org.futures.model.PartialSignal;
import org.futures.model.Hypothesis;
import org.futures.model.Commodity
import java.util.Map
import java.util.HashMap;

//  Low Production
rule "Production Low - Brasil Arabica"
    agenda-group "arabica"
when
    $commodity :Commodity(name=="Arabica")
    $p : Production(country=="Brasil",month==$commodity.getMonth(),commodity==$commodity.getName())
    eval($p.getProduction()<=5)
then
    double confidence=0.0;
    switch ($p.getRegion()){
        case "Minas Gerais": confidence=0.8;break;
        case "S√£o Paulo": confidence=0.8;break;
        case "Bahia": confidence=0.8;break;
    }

    Map<String,Object> factors = new HashMap<>();
    factors.put("country", $p.getCountry());
    factors.put("region", $p.getRegion());
    factors.put("month", $p.getMonth());
    factors.put("production", $p.getProduction());

    System.out.println("üìâ Low Arabica production in Brazil ‚Üí potential upward pressure on prices.");

    insert(new Hypothesis($p.getCommodity(),"Low Production on Brasil",factors,confidence,"SELL"));
end

rule "Production Low - Colombia Arabica"
    agenda-group "arabica"
when
    $commodity :Commodity(name=="Arabica")
    $p : Production(country=="Colombia",month==$commodity.getMonth(),commodity==$commodity.getName())
    eval($p.getProduction()<=5)
then
    double confidence=0.0;
    switch ($p.getRegion()){
        case "Andina Cafeeira": confidence=0.8;break;
    }

    Map<String,Object> factors = new HashMap<>();
    factors.put("country", $p.getCountry());
    factors.put("region", $p.getRegion());
    factors.put("month", $p.getMonth());
    factors.put("production", $p.getProduction());

    System.out.println("üìâ Colombia's Arabica harvest weak ‚Üí bullish signal for global Arabica prices.");

    insert(new Hypothesis($p.getCommodity(),"Low Production on Colombia",factors,confidence,"SELL"));
end

rule "Production Low - Brasil Robusta"
    agenda-group "robusta"
when
    $commodity :Commodity(name=="Robusta")
    $p : Production(country=="Brasil",month==$commodity.getMonth(),commodity==$commodity.getName())
    eval($p.getProduction()<=5)
then
    double confidence=0.0;
    switch ($p.getRegion()){
        case "Espirito Santo": confidence=0.8;break;
    }

    Map<String,Object> factors = new HashMap<>();
    factors.put("country", $p.getCountry());
    factors.put("region", $p.getRegion());
    factors.put("month", $p.getMonth());
    factors.put("production", $p.getProduction());

    System.out.println("üìâ Weak Robusta output in Brazil ‚Üí potential bullish move.");

    insert(new Hypothesis($p.getCommodity(),"Low Production on Brasil",factors,confidence,"SELL"));
end

rule "Production Low - Vietnam Robusta"
    agenda-group "robusta"
when
    $commodity :Commodity(name=="Robusta")
    $p : Production(country=="Vietnam",month==$commodity.getMonth(),commodity==$commodity.getName())
    eval($p.getProduction()<=5)
then
    double confidence=0.0;
    switch ($p.getRegion()){
        case "Central Highlands": confidence=0.8;break;
    }

    Map<String,Object> factors = new HashMap<>();
    factors.put("country", $p.getCountry());
    factors.put("region", $p.getRegion());
    factors.put("month", $p.getMonth());
    factors.put("production", $p.getProduction());

    System.out.println("üìâ Vietnam‚Äôs Robusta harvest low ‚Üí bullish sentiment building.");

    insert(new Hypothesis($p.getCommodity(),"Low Production on Vietnam",factors,confidence,"SELL"));
end

//  Average Production
rule "Average Production - Brasil Arabica"
    agenda-group "arabica"
when
    $commodity :Commodity(name=="Arabica")
    $p : Production(country=="Brasil",month==$commodity.getMonth(),commodity==$commodity.getName())
    eval(5<$p.getProduction() && $p.getProduction()<=25)
then
    double confidence=0.0;
    switch ($p.getRegion()){
        case "Minas Gerais": confidence=0.8;break;
        case "S√£o Paulo": confidence=0.8;break;
        case "Bahia": confidence=0.8;break;
    }

    Map<String,Object> factors = new HashMap<>();
    factors.put("country", $p.getCountry());
    factors.put("region", $p.getRegion());
    factors.put("month", $p.getMonth());
    factors.put("production", $p.getProduction());

    System.out.println("‚öñÔ∏è Brazil‚Äôs Arabica output near average ‚Üí neutral impact expected. " +$p.getRegion());

    insert(new Hypothesis($p.getCommodity(),"Average Production on Brasil",factors,confidence,"HOLD"));
end

rule "Average Production - Colombia Arabica"
    agenda-group "arabica"
when
    $commodity :Commodity(name=="Arabica")
    $p : Production(country=="Colombia",month==$commodity.getMonth(),commodity==$commodity.getName())
    eval(5<$p.getProduction() && $p.getProduction()<=25)
then
    double confidence=0.0;
    switch ($p.getRegion()){
        case "Andina Cafeeira": confidence=0.8;break;
    }

    Map<String,Object> factors = new HashMap<>();
    factors.put("country", $p.getCountry());
    factors.put("region", $p.getRegion());
    factors.put("month", $p.getMonth());
    factors.put("production", $p.getProduction());

    System.out.println("‚öñÔ∏è Steady Colombian Arabica production ‚Üí market stability likely.");

    insert(new Hypothesis($p.getCommodity(),"Average Production on Colombia",factors,confidence,"HOLD"));
end

rule "Average Production - Brasil Robusta"
    agenda-group "robusta"
when
    $commodity :Commodity(name=="Robusta")
    $p : Production(country=="Brasil",month==$commodity.getMonth(),commodity==$commodity.getName())
    eval(5<$p.getProduction() && $p.getProduction()<=25)
then
    double confidence=0.0;
    switch ($p.getRegion()){
        case "Espirito Santo": confidence=0.8;break;
    }

    Map<String,Object> factors = new HashMap<>();
    factors.put("country", $p.getCountry());
    factors.put("region", $p.getRegion());
    factors.put("month", $p.getMonth());
    factors.put("production", $p.getProduction());

    System.out.println("‚öñÔ∏è Brazil Robusta production stable ‚Üí neutral outlook.");

    insert(new Hypothesis($p.getCommodity(),"Average Production on Brasil",factors,confidence,"HOLD"));
end

rule "Average Production - Vietnam Robusta"
    agenda-group "robusta"
when
    $commodity :Commodity(name=="Robusta")
    $p : Production(country=="Vietnam",month==$commodity.getMonth(),commodity==$commodity.getName())
    eval(5<$p.getProduction() && $p.getProduction()<=25)
then
    double confidence=0.0;
    switch ($p.getRegion()){
        case "Espirito Santo": confidence=0.8;break;
    }

    Map<String,Object> factors = new HashMap<>();
    factors.put("country", $p.getCountry());
    factors.put("region", $p.getRegion());
    factors.put("month", $p.getMonth());
    factors.put("production", $p.getProduction());

    System.out.println("‚öñÔ∏è Vietnam Robusta production normal ‚Üí steady market expected.");

    insert(new Hypothesis($p.getCommodity(),"Average Production on Vietnam",factors,confidence,"HOLD"));
end

//  High Production
rule "High Production - Brasil Arabica"
    agenda-group "arabica"
when
    $commodity :Commodity(name=="Arabica")
    $p : Production(country=="Brasil",month==$commodity.getMonth(),commodity==$commodity.getName())
    eval($p.getProduction()>25)
then
    double confidence=0.0;
    switch ($p.getRegion()){
        case "Minas Gerais": confidence=0.8;break;
        case "S√£o Paulo": confidence=0.8;break;
        case "Bahia": confidence=0.8;break;
    }

    Map<String,Object> factors = new HashMap<>();
    factors.put("country", $p.getCountry());
    factors.put("region", $p.getRegion());
    factors.put("month", $p.getMonth());
    factors.put("production", $p.getProduction());

    System.out.println("üìà Strong Arabica harvest in Brazil ‚Üí downward pressure on prices expected.");

    insert(new Hypothesis($p.getCommodity(),"High Production on Brasil",factors,confidence,"BUY"));
end

rule "High Production - Colombia Arabica"
    agenda-group "arabica"
when
    $commodity :Commodity(name=="Arabica")
    $p : Production(country=="Colombia",month==$commodity.getMonth(),commodity==$commodity.getName())
    eval($p.getProduction()>25)
then
    double confidence=0.0;
    switch ($p.getRegion()){
        case "Andina Cafeeira": confidence=0.8;break;
    }

    Map<String,Object> factors = new HashMap<>();
    factors.put("country", $p.getCountry());
    factors.put("region", $p.getRegion());
    factors.put("month", $p.getMonth());
    factors.put("production", $p.getProduction());

    System.out.println("üìà Colombia‚Äôs Arabica crop surges ‚Üí possible price decline.");

    insert(new Hypothesis($p.getCommodity(),"High Production on Colombia",factors,confidence,"BUY"));
end

rule "High Production - Brasil Robusta"
    agenda-group "robusta"
when
    $commodity :Commodity(name=="Robusta")
    $p : Production(country=="Brasil",month==$commodity.getMonth(),commodity==$commodity.getName())
    eval($p.getProduction()>25)
then
    double confidence=0.0;
    switch ($p.getRegion()){
        case "Espirito Santo": confidence=0.8;break;
    }

    Map<String,Object> factors = new HashMap<>();
    factors.put("country", $p.getCountry());
    factors.put("region", $p.getRegion());
    factors.put("month", $p.getMonth());
    factors.put("production", $p.getProduction());

    System.out.println("üìà Strong Robusta harvest in Brazil ‚Üí bearish sign for prices.");

    insert(new Hypothesis($p.getCommodity(),"High Production on Brasil",factors,confidence,"BUY"));
end

rule "High Production - Vietnam Robusta"
    agenda-group "robusta"
when
    $commodity :Commodity(name=="Robusta")
    $p : Production(country=="Vietnam",month==$commodity.getMonth(),commodity==$commodity.getName())
    eval($p.getProduction()>25)
then
    double confidence=0.0;
    switch ($p.getRegion()){
        case "Central Highlands": confidence=0.8;break;
    }

    Map<String,Object> factors = new HashMap<>();
    factors.put("country", $p.getCountry());
    factors.put("region", $p.getRegion());
    factors.put("month", $p.getMonth());
    factors.put("production", $p.getProduction());

    System.out.println("üìà Vietnam Robusta output up ‚Üí possible global price softness.");

    insert(new Hypothesis($p.getCommodity(),"High Production on Vietnam",factors,confidence,"BUY"));
end
