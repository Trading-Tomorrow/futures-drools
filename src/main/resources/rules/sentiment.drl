package rules

import org.futures.model.Sentiment;

declare MarketSignal
    type : String
    confidence : double
end

// ðŸŸ¢ Strongly positive sentiment (bullish)
rule "Bullish - Positive sentiment strong"
when
    $s : Sentiment(tone == "positive", intensity > 0.6)
then
    insertLogical(new MarketSignal("bullish", 0.7));
    System.out.println("ðŸŸ¢ Positive sentiment detected â†’ bullish signal (" + $s.getSource() + ")");
end

// ðŸŸ  Mixed or neutral tone
rule "Neutral - Mixed sentiment"
when
    $s : Sentiment(tone == "neutral" || (intensity >= 0.4 && intensity <= 0.6))
then
    insertLogical(new MarketSignal("neutral", 0.5));
    System.out.println("ðŸŸ  Neutral sentiment detected â†’ market balanced (" + $s.getSource() + ")");
end

// ðŸ”´ Negative tone = bearish expectation
rule "Bearish - Negative sentiment strong"
when
    $s : Sentiment(tone == "negative", intensity > 0.6)
then
    insertLogical(new MarketSignal("bearish", 0.8));
    System.out.println("ðŸ”´ Negative sentiment detected â†’ bearish signal (" + $s.getSource() + ")");
end

// ðŸ“ˆ Very strong optimism (overconfidence)
rule "Contrarian - Excessive optimism"
when
    $s : Sentiment(tone == "positive", intensity > 0.9)
then
    insertLogical(new MarketSignal("bearish", 0.6));
    System.out.println("ðŸ“ˆ Excessive optimism detected â†’ contrarian bearish risk (" + $s.getSource() + ")");
end
